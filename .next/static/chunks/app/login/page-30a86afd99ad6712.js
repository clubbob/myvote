(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7362:function(e,r,t){Promise.resolve().then(t.bind(t,5899))},3038:function(e,r,t){"use strict";var s=t(3677);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},5899:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var s=t(1443),a=t(7954),n=t(3038),u=t(7568),l=t(2002);function i(){let e=(0,n.useRouter)(),[r,t]=(0,a.useState)({email:"",password:"",rememberEmail:!0}),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),m=e=>{let{name:r,value:s,type:a,checked:n}=e.target;t(e=>({...e,[r]:"checkbox"===a?n:s}))},p=async t=>{t.preventDefault(),o("");try{if(d(!0),!(await (0,u.e5)(l.I,r.email,r.password)).user.emailVerified){o("이메일 인증이 완료되지 않았습니다. 이메일을 확인해주세요."),d(!1);return}alert("로그인 성공!"),e.push("/")}catch(e){console.error("[로그인 오류]",e),o(function(e){switch(e){case"auth/user-not-found":return"존재하지 않는 사용자입니다.";case"auth/wrong-password":return"비밀번호가 일치하지 않습니다.";case"auth/invalid-email":return"이메일 형식이 올바르지 않습니다.";case"auth/too-many-requests":return"잠시 후 다시 시도해주세요.";default:return"로그인에 실패했습니다."}}(e.code||""))}finally{d(!1)}};return(0,s.jsxs)("div",{className:"max-w-md mx-auto py-12 px-8 bg-white shadow-md rounded-xl",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-center mb-8",children:"로그인"}),i&&(0,s.jsx)("p",{className:"text-red-500 text-sm mb-4",children:i}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),(0,s.jsx)("input",{name:"email",type:"email",required:!0,className:"w-full px-4 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",value:r.email,onChange:m})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비밀번호"}),(0,s.jsx)("input",{name:"password",type:"password",required:!0,className:"w-full px-4 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",value:r.password,onChange:m})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{id:"rememberEmail",name:"rememberEmail",type:"checkbox",checked:r.rememberEmail,onChange:m,className:"h-4 w-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,s.jsx)("label",{htmlFor:"rememberEmail",className:"text-sm text-gray-700",children:"이메일 저장"})]}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"w-full py-2 bg-purple-600 text-white rounded-full hover:bg-purple-700 transition disabled:opacity-50",children:c?"로그인 중...":"로그인"})]}),(0,s.jsxs)("div",{className:"mt-6 flex flex-col items-center gap-2 text-sm text-gray-600",children:[(0,s.jsxs)("p",{children:["계정이 없으신가요?"," ",(0,s.jsx)("a",{href:"/signup",className:"text-purple-600 hover:underline",children:"회원가입"})]}),(0,s.jsx)("p",{children:(0,s.jsx)("a",{href:"/forgot-password",className:"text-purple-600 hover:underline",children:"비밀번호를 잊으셨나요?"})})]})]})}},2002:function(e,r,t){"use strict";t.d(r,{I:function(){return i},db:function(){return o}});var s=t(4991),a=t(7568),n=t(9277),u=t(3521);let l=(0,s.ZF)({apiKey:"AIzaSyAws91QdnLflrzzHG9Nqh6kuc-cF5fJF9w",authDomain:"myvote-d6e8a.firebaseapp.com",projectId:"myvote-d6e8a",storageBucket:"myvote-d6e8a.appspot.com",messagingSenderId:"419357195756",appId:"1:419357195756:web:861b197a9d92d06dc914c9"}),i=(0,a.v0)(l),o=(0,n.ad)(l);(0,u.cF)(l)}},function(e){e.O(0,[126,411,114,878,323,744],function(){return e(e.s=7362)}),_N_E=e.O()}]);