(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{1075:function(e,a,s){Promise.resolve().then(s.bind(s,2175))},3038:function(e,a,s){"use strict";var t=s(3677);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},2175:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return o}});var t=s(1443),r=s(7954),n=s(2002),d=s(7568),u=s(9277),l=s(3038);function o(){let e=(0,l.useRouter)(),[a,s]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:""}),[o,i]=(0,r.useState)(""),[m,c]=(0,r.useState)(!1),p=e=>{let{name:a,value:t}=e.target;s(e=>({...e,[a]:t}))},h=async s=>{if(s.preventDefault(),i(""),a.password!==a.confirmPassword){i("비밀번호가 일치하지 않습니다.");return}try{c(!0);let s=(await (0,d.Xb)(n.I,a.email,a.password)).user;await (0,u.pl)((0,u.JU)(n.db,"users",s.uid),{name:a.name,email:s.email,createdAt:(0,u.Bt)()}),await (0,d.w$)(s),alert("회원가입 성공! 이메일 인증을 완료해주세요."),e.push("/login")}catch(e){console.error("[회원가입 오류]",e),i(function(e){switch(e){case"auth/weak-password":return"비밀번호는 최소 6자 이상이어야 합니다.";case"auth/email-already-in-use":return"이미 사용 중인 이메일입니다.";case"auth/invalid-email":return"올바르지 않은 이메일 형식입니다.";case"auth/missing-email":return"이메일을 입력해주세요.";case"auth/internal-error":return"요청을 처리할 수 없습니다. 다시 시도해주세요.";default:return"회원가입 중 오류가 발생했습니다."}}(e.code||""))}finally{c(!1)}};return(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-12 p-6 border rounded-lg shadow bg-white",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"회원가입"}),o&&(0,t.jsx)("p",{className:"text-red-500 text-sm mb-4",children:o}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"이름"}),(0,t.jsx)("input",{name:"name",type:"text",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:a.name,onChange:p})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"이메일"}),(0,t.jsx)("input",{name:"email",type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:a.email,onChange:p})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"비밀번호"}),(0,t.jsx)("input",{name:"password",type:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:a.password,onChange:p})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"비밀번호 확인"}),(0,t.jsx)("input",{name:"confirmPassword",type:"password",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",value:a.confirmPassword,onChange:p})]}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-purple-600 text-white py-2 rounded-md hover:bg-purple-700 transition disabled:opacity-50",children:m?"가입 중...":"회원가입"})]})]})}},2002:function(e,a,s){"use strict";s.d(a,{I:function(){return l},db:function(){return o}});var t=s(4991),r=s(7568),n=s(9277),d=s(3521);let u=(0,t.ZF)({apiKey:"AIzaSyAws91QdnLflrzzHG9Nqh6kuc-cF5fJF9w",authDomain:"myvote-d6e8a.firebaseapp.com",projectId:"myvote-d6e8a",storageBucket:"myvote-d6e8a.appspot.com",messagingSenderId:"419357195756",appId:"1:419357195756:web:861b197a9d92d06dc914c9"}),l=(0,r.v0)(u),o=(0,n.ad)(u);(0,d.cF)(u)}},function(e){e.O(0,[126,411,114,878,323,744],function(){return e(e.s=1075)}),_N_E=e.O()}]);