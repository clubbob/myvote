(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{4477:function(e,t,a){Promise.resolve().then(a.bind(a,6995))},6995:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=a(1443),l=a(7954),r=a(9277),s=a(2002);function u(){let[e,t]=(0,l.useState)(""),[a,u]=(0,l.useState)("K-POP"),[o,c]=(0,l.useState)(["",""]),[d,i]=(0,l.useState)(""),p=(e,t)=>{let a=[...o];a[e]=t,c(a)},m=async()=>{if(!e||o.some(e=>!e.trim())||!d){alert("모든 필드를 입력해주세요.");return}let t={title:e,category:a,options:o.map(e=>e.trim()),voteCounts:o.map(()=>0),endsAt:d,createdAt:(0,r.Bt)()};try{await (0,r.ET)((0,r.hJ)(s.db,"votes"),t),alert("투표가 등록되었습니다!")}catch(e){console.error("투표 저장 실패:",e),alert("등록 중 오류가 발생했어요.")}};return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-xl font-bold mb-4",children:"\uD83D\uDCDD 투표 만들기"}),(0,n.jsx)("input",{type:"text",placeholder:"투표 제목을 입력하세요",value:e,onChange:e=>t(e.target.value),className:"w-full border p-2 mb-4 rounded"}),(0,n.jsxs)("select",{value:a,onChange:e=>u(e.target.value),className:"w-full border p-2 mb-4 rounded",children:[(0,n.jsx)("option",{value:"K-POP",children:"K-POP"}),(0,n.jsx)("option",{value:"스포츠",children:"스포츠"}),(0,n.jsx)("option",{value:"드라마",children:"드라마"})]}),(0,n.jsx)("label",{className:"block text-sm mb-2",children:"투표 항목 (최대 10개)"}),o.map((e,t)=>(0,n.jsx)("input",{type:"text",value:e,onChange:e=>p(t,e.target.value),placeholder:"항목 ".concat(t+1),className:"w-full border p-2 mb-2 rounded"},t)),o.length<10&&(0,n.jsx)("button",{onClick:()=>{o.length<10&&c([...o,""])},className:"text-blue-500 text-sm mb-4",children:"+ 항목 추가"}),(0,n.jsx)("input",{type:"date",value:d,onChange:e=>i(e.target.value),className:"w-full border p-2 mb-4 rounded"}),(0,n.jsx)("button",{onClick:m,className:"w-full bg-blue-600 text-white p-2 rounded",children:"등록하기"})]})}},2002:function(e,t,a){"use strict";a.d(t,{I:function(){return o},db:function(){return c}});var n=a(4991),l=a(7568),r=a(9277),s=a(3521);let u=(0,n.ZF)({apiKey:"AIzaSyAws91QdnLflrzzHG9Nqh6kuc-cF5fJF9w",authDomain:"myvote-d6e8a.firebaseapp.com",projectId:"myvote-d6e8a",storageBucket:"myvote-d6e8a.appspot.com",messagingSenderId:"419357195756",appId:"1:419357195756:web:861b197a9d92d06dc914c9"}),o=(0,l.v0)(u),c=(0,r.ad)(u);(0,s.cF)(u)}},function(e){e.O(0,[126,411,114,878,323,744],function(){return e(e.s=4477)}),_N_E=e.O()}]);