(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{1075:function(e,s,t){Promise.resolve().then(t.bind(t,2175))},3038:function(e,s,t){"use strict";var a=t(3677);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},2175:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var a=t(1443),r=t(7954),n=t(2002),u=t(7568),i=t(9277),l=t(3038);function o(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:""}),[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1),p=e=>{let{name:s,value:a}=e.target;t(e=>({...e,[s]:a}))},f=async t=>{if(t.preventDefault(),d(""),s.password!==s.confirmPassword){d("비밀번호가 일치하지 않습니다.");return}try{m(!0);let t=(await (0,u.Xb)(n.I,s.email,s.password)).user;await (0,i.pl)((0,i.JU)(n.db,"users",t.uid),{name:s.name,email:t.email,createdAt:(0,i.Bt)()}),await (0,u.w$)(t),alert("회원가입 성공! 이메일 인증을 완료해주세요."),e.push("/login")}catch(e){console.error("[회원가입 오류]",e),d(function(e){switch(e){case"auth/weak-password":return"비밀번호는 최소 6자 이상이어야 합니다.";case"auth/email-already-in-use":return"이미 사용 중인 이메일입니다.";case"auth/invalid-email":return"올바르지 않은 이메일 형식입니다.";case"auth/missing-email":return"이메일을 입력해주세요.";case"auth/internal-error":return"요청을 처리할 수 없습니다. 다시 시도해주세요.";default:return"회원가입 중 오류가 발생했습니다."}}(e.code||""))}finally{m(!1)}};return(0,a.jsxs)("div",{className:"max-w-md mx-auto py-12 px-8 bg-white shadow-md rounded-xl",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center mb-8",children:"회원가입"}),o&&(0,a.jsx)("p",{className:"text-red-500 text-sm mb-4",children:o}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이름"}),(0,a.jsx)("input",{name:"name",type:"text",required:!0,value:s.name,onChange:p,className:"w-full px-4 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),(0,a.jsx)("input",{name:"email",type:"email",required:!0,value:s.email,onChange:p,className:"w-full px-4 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비밀번호"}),(0,a.jsx)("input",{name:"password",type:"password",required:!0,value:s.password,onChange:p,className:"w-full px-4 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비밀번호 확인"}),(0,a.jsx)("input",{name:"confirmPassword",type:"password",required:!0,value:s.confirmPassword,onChange:p,className:"w-full px-4 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full py-2 bg-purple-600 text-white rounded-full hover:bg-purple-700 transition disabled:opacity-50",children:c?"가입 중...":"회원가입"})]}),(0,a.jsxs)("div",{className:"text-center mt-6 text-sm text-gray-600",children:["이미 계정이 있으신가요?"," ",(0,a.jsx)("a",{href:"/login",className:"text-purple-600 hover:underline",children:"로그인"})]})]})}},2002:function(e,s,t){"use strict";t.d(s,{I:function(){return l},db:function(){return o}});var a=t(4991),r=t(7568),n=t(9277),u=t(3521);let i=(0,a.ZF)({apiKey:"AIzaSyAws91QdnLflrzzHG9Nqh6kuc-cF5fJF9w",authDomain:"myvote-d6e8a.firebaseapp.com",projectId:"myvote-d6e8a",storageBucket:"myvote-d6e8a.appspot.com",messagingSenderId:"419357195756",appId:"1:419357195756:web:861b197a9d92d06dc914c9"}),l=(0,r.v0)(i),o=(0,n.ad)(i);(0,u.cF)(i)}},function(e){e.O(0,[126,411,114,878,323,744],function(){return e(e.s=1075)}),_N_E=e.O()}]);