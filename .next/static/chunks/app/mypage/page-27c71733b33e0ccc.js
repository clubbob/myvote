(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{6310:function(e,t,a){Promise.resolve().then(a.bind(a,5075))},5075:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var n=a(1443),s=a(7954),l=a(9277),c=a(2002),d=a(437),i=a(5395),r=a(3490),o=a(7088),u=a(6613);function x(){let{user:e}=(0,d.t)(),[t,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{e&&(async()=>{let t=(0,l.IO)((0,l.hJ)(c.db,"polls"),(0,l.ar)("createdBy","==",e.uid),(0,l.Xo)("createdAt","desc"));a((await (0,l.PL)(t)).docs.map(e=>{var t,a,n;let s=e.data(),l=(null===(t=s.createdAt)||void 0===t?void 0:t.toDate)instanceof Function?s.createdAt.toDate().toISOString():"string"==typeof s.createdAt?s.createdAt:null,c=(null===(a=s.deadline)||void 0===a?void 0:a.toDate)instanceof Function?s.deadline.toDate().toISOString():"string"==typeof s.deadline?s.deadline:null;return{id:e.id,title:s.title,category:s.category,isPublic:s.isPublic,createdAt:l,deadline:c,maxParticipants:null!==(n=s.maxParticipants)&&void 0!==n?n:null}}))})()},[e]),(0,n.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[(0,n.jsxs)("h1",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[(0,n.jsx)("span",{children:"\uD83D\uDCCB"})," 내가 만든 투표"]}),0===t.length?(0,n.jsx)("p",{className:"text-gray-500",children:"아직 만든 투표가 없습니다."}):(0,n.jsx)("ul",{className:"space-y-4",children:t.map(e=>{let t=e.createdAt?(0,r.WU)(new Date(e.createdAt),"yyyy. M. d.",{locale:u.ko}):"날짜 없음",a=e.deadline?new Date(e.deadline):null,s=a&&!isNaN(a.getTime())?"".concat((0,r.WU)(a,"yyyy. M. d.",{locale:u.ko})," (D-").concat(Math.max(0,(0,o.w)(a,new Date)),")"):"마감일 없음";return(0,n.jsx)("li",{className:"border border-gray-200 rounded-xl bg-white shadow-md hover:shadow-lg transition duration-200",children:(0,n.jsxs)(i.default,{href:"/polls/".concat(e.id),className:"block p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:e.title}),!e.isPublic&&(0,n.jsx)("span",{className:"text-xs bg-red-100 text-red-600 font-medium px-2 py-0.5 rounded-full",children:"비공개"})]}),(0,n.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,n.jsxs)("p",{children:["\uD83D\uDCC2 ",(0,n.jsx)("span",{className:"font-bold",children:"카테고리:"})," ",e.category]}),(0,n.jsxs)("p",{children:["\uD83D\uDEE0️ ",(0,n.jsx)("span",{className:"font-bold",children:"제작일:"})," ",t]}),(0,n.jsxs)("p",{children:["⏰ ",(0,n.jsx)("span",{className:"font-bold",children:"마감일:"})," ",s]}),(0,n.jsxs)("p",{children:["\uD83D\uDC65 ",(0,n.jsx)("span",{className:"font-bold",children:"참여제한:"})," ",e.maxParticipants?"".concat(e.maxParticipants,"명"):"제한 없음"]})]})]})},e.id)})})]})}},2002:function(e,t,a){"use strict";a.d(t,{I:function(){return i},db:function(){return r}});var n=a(4991),s=a(7568),l=a(9277),c=a(3521);let d=(0,n.ZF)({apiKey:"AIzaSyAws91QdnLflrzzHG9Nqh6kuc-cF5fJF9w",authDomain:"myvote-d6e8a.firebaseapp.com",projectId:"myvote-d6e8a",storageBucket:"myvote-d6e8a.appspot.com",messagingSenderId:"419357195756",appId:"1:419357195756:web:861b197a9d92d06dc914c9"}),i=(0,s.v0)(d),r=(0,l.ad)(d);(0,c.cF)(d)},437:function(e,t,a){"use strict";a.d(t,{t:function(){return n}});let n=(0,a(7957).U)(e=>({user:null,loading:!0,setUser:t=>e({user:t}),setLoading:t=>e({loading:t})}))}},function(e){e.O(0,[126,411,114,289,395,878,323,744],function(){return e(e.s=6310)}),_N_E=e.O()}]);